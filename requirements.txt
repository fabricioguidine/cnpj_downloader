# ğŸ“¦ CNPJ Downloader â€” Receita Federal CNPJ Open Data Scraper

This Python script automates the download of **all public CNPJ datasets** available on the Receita Federal website. It crawls through each dated directory and downloads **every available file** (.zip, .txt, etc.), saving them in a structured local folder.

> ğŸ”— Source: [Receita Federal - Dados Abertos CNPJ](https://arquivos.receitafederal.gov.br/dados/cnpj/dados_abertos_cnpj/)

---

## ğŸš€ Features

- âœ… Recursively crawls every monthly folder
- âœ… Downloads all files inside each folder
- âœ… Skips already downloaded files
- âœ… Preserves original folder structure
- âœ… Uses only `requests` and `BeautifulSoup` (no browser automation needed)

---

## âš ï¸ Important Limitation

> ğŸ’¡ If the script is **interrupted during a file download** (e.g., closed, killed, or lost connection), that **partial file will still be skipped** the next time you run it.

This is because the script checks if the file **exists** before downloading it â€” it doesnâ€™t verify if the file is **complete or corrupted**.

To avoid this:
- Delete any incomplete files manually before restarting the script
- Or enhance the script to verify file size or checksum after download (not included by default)

---

## ğŸ› ï¸ Requirements

Install dependencies:

```bash
pip install -r requirements.txt
```

Contents of `requirements.txt`:

```
requests
beautifulsoup4
```

---

## ğŸ§© Project Structure

```
cnpj_downloader/
â”œâ”€â”€ main.py               # Main script
â”œâ”€â”€ requirements.txt      # Python dependencies
â”œâ”€â”€ README.md             # Project documentation
â””â”€â”€ data/                 # Where files are saved
    â”œâ”€â”€ 2025-06/
    â”œâ”€â”€ 2025-05/
    â””â”€â”€ ...
```

---

## ğŸ–¥ï¸ How to Use

1. Clone this repo or copy the files.
2. Run the script:

```bash
python main.py
```

All files will be downloaded into the `data/` folder, organized by month.

---

## ğŸ’¡ Customization Tips

Want to enhance the script?

- âœ… **Download only `.zip`**: add a filter in the loop
- âœ… **Unzip after download**: integrate with `zipfile` or `shutil`
- âœ… **Add logging or CSV reports**: use Python `logging` or `csv` modules
- âœ… **Verify file integrity**: check file size or hash to avoid partial downloads

---

## ğŸ“„ License

This script is open-source and free to use for personal or research purposes. Use it responsibly in accordance with Receita Federalâ€™s data usage policies.

---

## âœ¨ Author

Made by @fabricioguidine 
Feel free to contribute or suggest improvements!